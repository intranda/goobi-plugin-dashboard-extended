!function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function a(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function o(t,n,e){t.insertBefore(n,e||null)}function i(t){t.parentNode.removeChild(t)}function c(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function g(t,n,e,a){return t.addEventListener(n,e,a),()=>t.removeEventListener(n,e,a)}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function p(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function h(t,n,e,a){t.style.setProperty(n,e,a?"important":"")}let b;function _(t){b=t}function y(t){(function(){if(!b)throw new Error("Function called outside component initialization");return b})().$$.on_mount.push(t)}const x=[],v=[],$=[],w=[],N=Promise.resolve();let O=!1;function A(t){$.push(t)}let k=!1;const R=new Set;function I(){if(!k){k=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];_(n),K(n.$$)}for(_(null),x.length=0;v.length;)v.pop()();for(let t=0;t<$.length;t+=1){const n=$[t];R.has(n)||(R.add(n),n())}$.length=0}while(x.length);for(;w.length;)w.pop()();O=!1,k=!1,R.clear()}}function K(t){if(null!==t.fragment){t.update(),a(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const G=new Set;function W(t,n){-1===t.$$.dirty[0]&&(x.push(t),O||(O=!0,N.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function C(l,s,o,c,u,d,f=[-1]){const g=b;_(l);const m=s.props||{},p=l.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(g?g.$$.context:[]),callbacks:e(),dirty:f,skip_bound:!1};let h=!1;if(p.ctx=o?o(l,m,(t,n,...e)=>{const a=e.length?e[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=a)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](a),h&&W(l,t)),n}):[],p.update(),h=!0,a(p.before_update),p.fragment=!!c&&c(p.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);p.fragment&&p.fragment.l(t),t.forEach(i)}else p.fragment&&p.fragment.c();s.intro&&((y=l.$$.fragment)&&y.i&&(G.delete(y),y.i(x))),function(t,e,l){const{fragment:s,on_mount:o,on_destroy:i,after_update:c}=t.$$;s&&s.m(e,l),A(()=>{const e=o.map(n).filter(r);i?i.push(...e):a(e),t.$$.on_mount=[]}),c.forEach(A)}(l,s.target,s.anchor),I()}var y,x;_(g)}function D(t,n,e){const a=t.slice();return a[10]=n[e],a}function E(t,n,e){const a=t.slice();return a[7]=n[e],a}function T(t,n,e){const a=t.slice();return a[10]=n[e],a}function L(t,n,e){const a=t.slice();return a[7]=n[e],a}function S(n){let e,a;return{c(){e=u("div"),a=u("div"),a.textContent=""+n[3]("dashboard_nagiosNotLoaded"),m(a,"class","alert alert-info alert-dismissable"),m(e,"class","p-3")},m(t,n){o(t,e,n),s(e,a)},p:t,d(t){t&&i(e)}}}function j(t){let n,e,a="down"!=t[1]&&B(t),r="down"==t[1]&&M(t);return{c(){n=u("div"),a&&a.c(),e=f(),r&&r.c()},m(t,l){o(t,n,l),a&&a.m(n,null),s(n,e),r&&r.m(n,null)},p(t,l){"down"!=t[1]?a?a.p(t,l):(a=B(t),a.c(),a.m(n,e)):a&&(a.d(1),a=null),"down"==t[1]?r?r.p(t,l):(r=M(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},d(t){t&&i(n),a&&a.d(),r&&r.d()}}}function B(t){let n,e=t[0],a=[];for(let n=0;n<e.length;n+=1)a[n]=z(L(t,e,n));return{c(){n=u("div");for(let t=0;t<a.length;t+=1)a[t].c()},m(t,e){o(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(t,r){if(1&r){let l;for(e=t[0],l=0;l<e.length;l+=1){const s=L(t,e,l);a[l]?a[l].p(s,r):(a[l]=z(s),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=e.length}},d(t){t&&i(n),c(a,t)}}}function H(t){let n,e=t[7].nagios.status.service_status,a=[];for(let n=0;n<e.length;n+=1)a[n]=F(T(t,e,n));return{c(){n=u("div");for(let t=0;t<a.length;t+=1)a[t].c();h(n,"margin-top","-15px")},m(t,e){o(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null)},p(t,r){if(1&r){let l;for(e=t[7].nagios.status.service_status,l=0;l<e.length;l+=1){const s=T(t,e,l);a[l]?a[l].p(s,r):(a[l]=F(s),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=e.length}},d(t){t&&i(n),c(a,t)}}}function F(t){let n,e,a,r,l,c=t[10].service_display_name+"";return{c(){n=u("span"),e=d(c),a=f(),m(n,"class",r="badge "+t[10].badgeColor),h(n,"font-weight","normal"),h(n,"margin","3px"),m(n,"title",l=t[10].status_information),m(n,"rel","tooltip")},m(t,r){o(t,n,r),s(n,e),s(n,a)},p(t,a){1&a&&c!==(c=t[10].service_display_name+"")&&p(e,c),1&a&&r!==(r="badge "+t[10].badgeColor)&&m(n,"class",r),1&a&&l!==(l=t[10].status_information)&&m(n,"title",l)},d(t){t&&i(n)}}}function z(t){let n,e,a,r,l,c,g,b,_,y,x,v=t[7].name+"",$="OK"!=t[7].summary&&null!=t[7].nagios&&H(t);return{c(){n=u("div"),e=u("div"),a=u("div"),r=u("i"),c=f(),g=u("span"),b=d(v),y=f(),$&&$.c(),x=f(),m(r,"class",l="fa "+("OK"==t[7].summary?"fa-check":"WARNING"==t[7].summary?"fa-exclamation-triangle":"fa-times-circle")),h(g,"margin","5px"),m(a,"class",_="badge "+("OK"==t[7].summary?"badge-intranda-green":"WARNING"==t[7].summary?"badge-intranda-orange":"badge-intranda-red")),h(a,"position","relative"),h(a,"top","-1em"),h(a,"font-size","14px"),h(a,"font-weight","normal"),h(a,"padding","5px"),h(a,"display","inline-block"),h(a,"border","white solid 5px"),h(e,"height","0.005rem"),h(e,"background-color","var(--clr-neutral-400)"),h(e,"text-align","left"),h(e,"margin","15px 20px 40px 0px")},m(t,l){o(t,n,l),s(n,e),s(e,a),s(a,r),s(a,c),s(a,g),s(g,b),s(n,y),$&&$.m(n,null),s(n,x)},p(t,e){1&e&&l!==(l="fa "+("OK"==t[7].summary?"fa-check":"WARNING"==t[7].summary?"fa-exclamation-triangle":"fa-times-circle"))&&m(r,"class",l),1&e&&v!==(v=t[7].name+"")&&p(b,v),1&e&&_!==(_="badge "+("OK"==t[7].summary?"badge-intranda-green":"WARNING"==t[7].summary?"badge-intranda-orange":"badge-intranda-red"))&&m(a,"class",_),"OK"!=t[7].summary&&null!=t[7].nagios?$?$.p(t,e):($=H(t),$.c(),$.m(n,x)):$&&($.d(1),$=null)},d(t){t&&i(n),$&&$.d()}}}function M(t){let n,e,a,r=t[0],l=[];for(let n=0;n<r.length;n+=1)l[n]=U(E(t,r,n));return{c(){n=u("div"),e=u("table"),a=u("tbody");for(let t=0;t<l.length;t+=1)l[t].c();m(e,"class","table table-hover responsive")},m(t,r){o(t,n,r),s(n,e),s(e,a);for(let t=0;t<l.length;t+=1)l[t].m(a,null)},p(t,n){if(1&n){let e;for(r=t[0],e=0;e<r.length;e+=1){const s=E(t,r,e);l[e]?l[e].p(s,n):(l[e]=U(s),l[e].c(),l[e].m(a,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=r.length}},d(t){t&&i(n),c(l,t)}}}function P(t){let n,e,a=t[10].service_display_name+"";return{c(){n=u("span"),e=d(a),m(n,"class","badge badge-intranda-green"),h(n,"font-weight","normal")},m(t,a){o(t,n,a),s(n,e)},p(t,n){1&n&&a!==(a=t[10].service_display_name+"")&&p(e,a)},d(t){t&&i(n)}}}function q(t){let n,e,a=t[10].service_display_name+"";return{c(){n=u("span"),e=d(a),m(n,"class","badge badge-intranda-orange"),h(n,"font-weight","normal")},m(t,a){o(t,n,a),s(n,e)},p(t,n){1&n&&a!==(a=t[10].service_display_name+"")&&p(e,a)},d(t){t&&i(n)}}}function J(t){let n,e,a=t[10].service_display_name+"";return{c(){n=u("span"),e=d(a),m(n,"class","badge badge-intranda-red"),h(n,"font-weight","normal")},m(t,a){o(t,n,a),s(n,e)},p(t,n){1&n&&a!==(a=t[10].service_display_name+"")&&p(e,a)},d(t){t&&i(n)}}}function Q(t){let n,e,a,r,l,c,g,m,h=t[10].status_information+"",b=("OK"==t[10].status||"SOFT"==t[10].state_type)&&P(t),_="WARNING"==t[10].status&&"HARD"==t[10].state_type&&q(t),y="CRITICAL"==t[10].status&&"HARD"==t[10].state_type&&J(t);return{c(){n=u("tr"),e=u("td"),b&&b.c(),a=f(),_&&_.c(),r=f(),y&&y.c(),l=f(),c=u("td"),g=d(h),m=f()},m(t,i){o(t,n,i),s(n,e),b&&b.m(e,null),s(e,a),_&&_.m(e,null),s(e,r),y&&y.m(e,null),s(n,l),s(n,c),s(c,g),s(n,m)},p(t,n){"OK"==t[10].status||"SOFT"==t[10].state_type?b?b.p(t,n):(b=P(t),b.c(),b.m(e,a)):b&&(b.d(1),b=null),"WARNING"==t[10].status&&"HARD"==t[10].state_type?_?_.p(t,n):(_=q(t),_.c(),_.m(e,r)):_&&(_.d(1),_=null),"CRITICAL"==t[10].status&&"HARD"==t[10].state_type?y?y.p(t,n):(y=J(t),y.c(),y.m(e,null)):y&&(y.d(1),y=null),1&n&&h!==(h=t[10].status_information+"")&&p(g,h)},d(t){t&&i(n),b&&b.d(),_&&_.d(),y&&y.d()}}}function U(t){let n,e,a,r,l,g,b,_,y,x,v,$=t[7].name+"",w=t[7].nagios.status.service_status,N=[];for(let n=0;n<w.length;n+=1)N[n]=Q(D(t,w,n));return{c(){n=u("tr"),e=u("td"),a=u("div"),r=u("i"),g=f(),b=u("span"),_=d($),x=f();for(let t=0;t<N.length;t+=1)N[t].c();v=d(""),m(r,"class",l="fa "+("OK"==t[7].summary?"fa-check":"WARNING"==t[7].summary?"fa-exclamation-triangle":"fa-times-circle")),h(b,"margin","5px"),m(a,"class",y="badge "+("OK"==t[7].summary?"badge-intranda-green":"WARNING"==t[7].summary?"badge-intranda-orange":"badge-intranda-red")),h(a,"font-size","14px"),h(a,"font-weight","normal"),h(a,"padding","5px"),h(a,"margin","0px"),h(a,"display","block"),m(e,"colspan","2")},m(t,l){o(t,n,l),s(n,e),s(e,a),s(a,r),s(a,g),s(a,b),s(b,_),o(t,x,l);for(let n=0;n<N.length;n+=1)N[n].m(t,l);o(t,v,l)},p(t,n){if(1&n&&l!==(l="fa "+("OK"==t[7].summary?"fa-check":"WARNING"==t[7].summary?"fa-exclamation-triangle":"fa-times-circle"))&&m(r,"class",l),1&n&&$!==($=t[7].name+"")&&p(_,$),1&n&&y!==(y="badge "+("OK"==t[7].summary?"badge-intranda-green":"WARNING"==t[7].summary?"badge-intranda-orange":"badge-intranda-red"))&&m(a,"class",y),1&n){let e;for(w=t[7].nagios.status.service_status,e=0;e<w.length;e+=1){const a=D(t,w,e);N[e]?N[e].p(a,n):(N[e]=Q(a),N[e].c(),N[e].m(v.parentNode,v))}for(;e<N.length;e+=1)N[e].d(1);N.length=w.length}},d(t){t&&i(n),t&&i(x),c(N,t),t&&i(v)}}}function V(n){let e,r,l,c,d,p,h,b,_,y,x,v,$,w,N,O,A,k,R,I,K=0==n[0].length&&S(n),G=0!=n[0].length&&j(n);return{c(){e=u("div"),r=u("div"),l=u("div"),c=u("div"),d=u("h2"),d.innerHTML='<i class="fa fa-binoculars "></i>\n                    Monitoring',p=f(),h=u("div"),b=u("a"),_=u("i"),x=f(),v=u("a"),$=u("i"),O=f(),A=u("div"),K&&K.c(),k=f(),G&&G.c(),m(_,"class","fa fa-refresh"),m(b,"class","btn d-flex align-items-center btn--title-action"),m(b,"title",y=n[3]("reload")),m($,"class",w="fa "+("down"==n[1]?"fa-angle-up":"fa-angle-down")),m(v,"class","btn d-flex align-items-center btn--title-action"),m(v,"title",N="up"==n[1]?n[3]("showBoxDetailsOn"):n[3]("showBoxDetailsOff")),m(h,"class","actions d-flex"),m(c,"class","box__title"),m(A,"class","p-0"),m(l,"class","box__content-inner"),m(r,"class","box__content"),m(e,"class","box box--neutral box--padded")},m(t,a){o(t,e,a),s(e,r),s(r,l),s(l,c),s(c,d),s(c,p),s(c,h),s(h,b),s(b,_),s(h,x),s(h,v),s(v,$),s(l,O),s(l,A),K&&K.m(A,null),s(A,k),G&&G.m(A,null),R||(I=[g(b,"click",n[2]),g(v,"click",n[4])],R=!0)},p(t,[n]){2&n&&w!==(w="fa "+("down"==t[1]?"fa-angle-up":"fa-angle-down"))&&m($,"class",w),2&n&&N!==(N="up"==t[1]?t[3]("showBoxDetailsOn"):t[3]("showBoxDetailsOff"))&&m(v,"title",N),0==t[0].length?K?K.p(t,n):(K=S(t),K.c(),K.m(A,k)):K&&(K.d(1),K=null),0!=t[0].length?G?G.p(t,n):(G=j(t),G.c(),G.m(A,null)):G&&(G.d(1),G=null)},i:t,o:t,d(t){t&&i(e),K&&K.d(),G&&G.d(),R=!1,a(I)}}}function X(t,n,e){y(()=>{s()});let{msgs:a}=n,r=[],l="up",s=()=>{r.length>0&&e(0,r=[]);var t=window.location.pathname;t=t.substring(0,t.indexOf("/uii/")),fetch(t+"/plugins/exdashboard/nagios").then(t=>{t.json().then(t=>{for(var n of(e(0,r=t),r))if(n.nagios)for(var a of n.nagios.status.service_status)a.badgeColor=o(a)})})},o=t=>"OK"==t.status||"SOFT"==t.state_type?"badge-intranda-green":"WARNING"==t.status?"badge-intranda-orange":"badge-intranda-red";return t.$$set=t=>{"msgs"in t&&e(5,a=t.msgs)},[r,l,s,t=>0==Object.keys(a).length?"*".repeat(t.length):a[t]?a[t]:"???"+t+"???",()=>{e(1,l="up"==l?"down":"up")},a]}window.mountSvelteNagios=class extends class{$destroy(){!function(t,n){const e=t.$$;null!==e.fragment&&(a(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),C(this,t,X,V,l,{msgs:5})}}}();
//# sourceMappingURL=bundle.js.map
