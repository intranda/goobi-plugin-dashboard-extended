<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG">

    <composite:interface>
    </composite:interface>

    <composite:implementation>
        <ui:fragment
            rendered="#{DashboardForm.plugin.showSearch and (LoginForm.hasRole('Workflow_General_Search') or LoginForm.hasRole('Workflow_Processes'))}">

            <div class="mb-3">
                <intranda:box
                    boxType="action"
                    boxPadding="true"
                    icon="fa-search"
                    title="#{msgs.suche}">

                    <h:form
                        id="myform"
                        styleClass="form-vertical form-striped form-bordered"
                        onkeypress="submitOnEnter(event);">
                        <div class="form-group">
                            <h:outputLabel
                                styleClass="control-label "
                                value="#{msgs.nachEinemBandSuchen}:" />
                            <h:inputText
                                pt:aria-label="#{msgs.search}"
                                styleClass="form-control"
                                value="#{ProzessverwaltungForm.filter}" />
                        </div>

                        <div class="form-group">
                            <h:outputLabel
                                styleClass="control-label "
                                value="#{msgs.anzeige}:" />
                            <div class="checkbox">
                                <label> <h:selectBooleanCheckbox
                                        value="#{ProzessverwaltungForm.showClosedProcesses}" />
                                    #{msgs.showClosedProcesses}
                                </label>
                            </div>

                            <div class="checkbox">
                                <label> <h:selectBooleanCheckbox
                                        value="#{ProzessverwaltungForm.showArchivedProjects}" />
                                    #{msgs.showArchivedProjects}
                                </label>

                            </div>
                        </div>

                        <div class="form-actions">
                            <!-- search -->
                            <button
                                class="btn btn-success submitOnEnter"
                                jsf:id="absenden"
                                type="submit"
                                jsf:action="#{ProzessverwaltungForm.FilterAlleStart}">
                                <span class="fa fa-search margin-right-5" />
                                <span>
                                    <h:outputText value="#{msgs.search}" />
                                </span>
                                <f:setPropertyActionListener
                                    target="#{ProzessverwaltungForm.modusAnzeige}"
                                    value="aktuell"  />
                                <f:setPropertyActionListener
                                    target="#{NavigationForm.aktuell}"
                                    value="a22" />
                                <f:setPropertyActionListener
                                    target="#{NavigationForm.parentMenu}"
                                    value="menu_workflow"/>
                            </button>
                        </div>
                    </h:form>
                </intranda:box>
            </div>
        </ui:fragment>
    </composite:implementation>

</ui:composition>
