<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites">

	<composite:interface>
	</composite:interface>

	<composite:implementation>

        <h:outputScript>
            let options = {
                options: {
                    plugins: {
                        title: {
                            display: false,
                            text: "Processes per month"
                        },
                        legend: {
                            display: false
                        }
                    }
                }
            };
            function chartExtender() {
                let options = $.extend(true, {}, this.cfg.config);
            };
            function chartExtenderLog() {
                let options = $.extend(true, {}, this.cfg.config);
                options.options = {
                    scales: {
                        y: {
                            type: 'logarithmic',
                            min: 0,
                            ticks: {
                                callback: function(value, index, values) {
                                    // Show only powers of 10
                                    if (value === 1 || value === 10 || value === 100 || value === 1000 || value === 10000) {
                                        return value;
                                    }
                                    return '';
                                }
                            }
                        }
                    }
                };

                $.extend(true, this.cfg.config, options);
            };
        </h:outputScript>
        <ui:fragment rendered="#{DashboardForm.plugin.processHelper.showStatistics and !DashboardForm.plugin.processHelper.isProcessPerMonthEmpty()}">
            <div class="mb-3">
                <intranda:box
                    boxType="primary"
                    boxPadding="true"
                    icon="fa-list"
                    title="#{msgs.dashboard_processesPerMonth}">
                    <div class="card">
                         <p:lineChart
        					model="#{DashboardForm.plugin.processHelper.processesPerMonth}"
                            style="height:250px"/>
                    </div>
                </intranda:box>
            </div>

	  </ui:fragment>
	</composite:implementation>
</ui:composition>